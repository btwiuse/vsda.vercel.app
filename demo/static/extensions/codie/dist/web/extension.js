(()=>{"use strict";var e={236:function(e,o,n){var t=this&&this.__awaiter||function(e,o,n,t){return new(n||(n=Promise))((function(r,i){function s(e){try{m(t.next(e))}catch(e){i(e)}}function c(e){try{m(t.throw(e))}catch(e){i(e)}}function m(e){var o;e.done?r(e.value):(o=e.value,o instanceof n?o:new n((function(e){e(o)}))).then(s,c)}m((t=t.apply(e,o||[])).next())}))};Object.defineProperty(o,"__esModule",{value:!0}),o.deactivate=o.activate=void 0;const r=n(496);let i,s,c=0;function m(){d(r.window.activeTextEditor)>=0?(i.text=`$(megaphone) ${c} agents(s) connected`,i.show()):i.hide()}function d(e){let o=0;return e&&(o=e.selections.reduce(((e,o)=>e+(o.end.line-o.start.line)),0)),o}o.activate=function({subscriptions:e}){r.workspace.registerRemoteAuthorityResolver,function(){let e=new WebSocket("wss://k0s.op.milvzn.com/api/agents/watch");e.binaryType="blob",e.addEventListener("message",(({data:e})=>{s=JSON.parse(e),c=s.length,m()}))}();let o=r.commands.registerCommand("workbench.action.remote.close2",(()=>{console.log("workbench action remote close2"),r.commands.getCommands().then((e=>{console.log(e)}))}));e.push(o),e.push(r.commands.registerCommand("workbench.action.remote.new0",(()=>{console.log("new window, noargs"),r.commands.executeCommand("vscode.newWindow")}))),e.push(r.commands.registerCommand("workbench.action.remote.new00",(()=>{console.log("new window, reuse"),r.commands.executeCommand("vscode.newWindow",{reuseWindow:!0})}))),e.push(r.commands.registerCommand("workbench.action.remote.new000",(()=>{console.log("new window, no reuse"),r.commands.executeCommand("vscode.newWindow",{reuseWindow:!1})}))),e.push(r.commands.registerCommand("workbench.action.remote.new0000",(()=>{console.log("new window, no reuse"),r.commands.executeCommand("vscode.newWindow",{remoteAuthority:"127.0.0.1:8081",reuseWindow:!1})}))),e.push(r.commands.registerCommand("workbench.action.remote.new00000",(()=>{console.log("new window, no reuse"),r.commands.executeCommand("vscode.newWindow",{remoteAuthority:"127.0.0.1:8081",reuseWindow:!0})}))),e.push(r.commands.registerCommand("workbench.action.remote.new1",(()=>{console.log("new window, remoteAuthority 127.0.0.1:8080"),r.commands.executeCommand("vscode.newWindow",{remoteAuthority:"127.0.0.1:8080"})}))),e.push(r.commands.registerCommand("workbench.action.remote.new2",(()=>{console.log("new window, remoteAuthority 127.0.0.1:8080, reuse"),r.commands.executeCommand("vscode.newWindow",{reuseWindow:!0,remoteAuthority:"127.0.0.1:8080"})}))),e.push(r.commands.registerCommand("workbench.action.remote.new3",(()=>{console.log("new window, remoteAuthority 127.0.0.1:8080, no reuse"),r.commands.executeCommand("vscode.newWindow",{reuseWindow:!1,remoteAuthority:"127.0.0.1:8080"})}))),e.push(r.commands.registerCommand("workbench.action.remote.closeCurrent",(()=>{console.log("new window, noargs"),r.commands.executeCommand("vscode.newWindow")}))),e.push(r.commands.registerCommand("workbench.action.remote.newWithInput",(()=>t(this,void 0,void 0,(function*(){const e=yield r.window.showInputBox({placeHolder:"Enter remote authority (e.g., 127.0.0.1:8080)",prompt:"Specify the remote authority for the new window",value:"127.0.0.1:8080"});e&&(console.log(`Replacing window with remoteAuthority: ${e}`),r.commands.executeCommand("vscode.newWindow",{remoteAuthority:e,reuseWindow:!0}))}))))),e.push(r.commands.registerCommand("workbench.action.remote.newWindowWithInput",(()=>t(this,void 0,void 0,(function*(){const e=yield r.window.showInputBox({placeHolder:"Enter remote authority (e.g., 127.0.0.1:8080)",prompt:"Specify the remote authority for the new window",value:"127.0.0.1:8080"});e&&(console.log(`Opening window with remoteAuthority: ${e}`),r.commands.executeCommand("vscode.newWindow",{remoteAuthority:e,reuseWindow:!1}))})))));const n="sample.showSelectionCount";e.push(r.commands.registerCommand(n,(()=>{d(r.window.activeTextEditor),r.window.showInformationMessage(`Yeah, ${c} line(s) selected... Keep going!`),console.log(c,s)}))),i=r.window.createStatusBarItem(r.StatusBarAlignment.Left,Number.MAX_VALUE-1),i.command=n,e.push(i),e.push(r.window.onDidChangeActiveTextEditor(m)),e.push(r.window.onDidChangeTextEditorSelection(m)),m()},o.deactivate=function(){}},496:e=>{e.exports=require("vscode")}},o={},n=function n(t){var r=o[t];if(void 0!==r)return r.exports;var i=o[t]={exports:{}};return e[t].call(i.exports,i,i.exports,n),i.exports}(236),t=exports;for(var r in n)t[r]=n[r];n.__esModule&&Object.defineProperty(t,"__esModule",{value:!0})})();